<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NutriVista - Health Ecosystem</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" xintegrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <!-- Inter Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Custom CSS for animations and styling -->
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-light">

    <div class="container-fluid main-container p-4">
        <div class="bg-white shadow-lg rounded-4 p-4 p-md-5 w-100">
            <h1 class="display-5 fw-bold text-center text-dark mb-5">NutriVista</h1>
            
            <!-- Main Navigation -->
            <div class="d-flex justify-content-center flex-wrap mb-5 gap-2">
                <button id="nav-home" class="btn btn-primary rounded-pill fw-bold btn-sm-custom active"><i class="fas fa-home me-2"></i> Home</button>
                <button id="nav-dashboard" class="btn btn-light rounded-pill fw-bold btn-sm-custom"><i class="fas fa-chart-line me-2"></i> Dashboard</button>
                <button id="nav-store" class="btn btn-light rounded-pill fw-bold btn-sm-custom"><i class="fas fa-store me-2"></i> Store</button>
                <button id="nav-recipes" class="btn btn-light rounded-pill fw-bold btn-sm-custom"><i class="fas fa-utensils me-2"></i> Recipes</button>
                <button id="nav-doctors" class="btn btn-light rounded-pill fw-bold btn-sm-custom"><i class="fas fa-user-md me-2"></i> Doctors</button>
                <button id="nav-appointments" class="btn btn-light rounded-pill fw-bold btn-sm-custom"><i class="fas fa-calendar-check me-2"></i> My Appointments</button>
                <button id="nav-login-status" class="btn btn-light rounded-pill fw-bold btn-sm-custom"><i class="fas fa-sign-in-alt me-2"></i> Login</button>
            </div>

            <!-- Page Sections -->
            <div id="page-home" class="page-section active">
                <div class="text-center p-5 bg-light rounded-4 shadow-sm animate-fade-in">
                    <h2 class="h3 fw-bold text-dark">Your Holistic Health & Wellness Ecosystem</h2>
                    <p class="mt-4 text-muted mx-auto" style="max-width: 600px;">
                        NutriVista is a complete platform that integrates healthy item e-commerce, an AI-powered diet chatbot, a vast recipe library with allergen alternatives, and a doctor consultation service. We're here to simplify your journey to a healthier lifestyle.
                    </p>
                    <div class="mt-4 d-flex justify-content-center gap-3 flex-wrap">
                        <button onclick="showPage('page-store')" class="btn btn-primary btn-lg rounded-pill fw-bold shadow-sm animate-scale-up">Explore the Store</button>
                        <button onclick="showPage('page-doctors')" class="btn btn-success btn-lg rounded-pill fw-bold shadow-sm animate-scale-up">Find a Doctor</button>
                    </div>
                </div>
            </div>

            <div id="page-dashboard" class="page-section d-none">
                <div class="row g-4 animate-fade-in">
                    <div class="col-12 col-lg-6">
                        <div class="d-flex flex-column custom-card p-4 h-100">
                            <div class="d-flex align-items-center mb-4">
                                <i class="fas fa-robot text-primary me-3 fs-3"></i>
                                <span class="h4 fw-bold text-dark mb-0">Smart Diet Chatbot</span>
                            </div>
                            <div id="chat-container" class="chat-container rounded-4 bg-light p-3 border border-secondary-subtle">
                                <div class="chat-message bot p-3 rounded-4 mb-2 shadow-sm" style="max-width: 75%;">
                                    Hello! I am your personal diet chatbot. Please register or log in to get started. Use the format "register username password" or "login username password".
                                </div>
                            </div>
                            <div class="mt-4 d-flex gap-2">
                                <input type="text" id="user-input" class="form-control rounded-pill me-2" placeholder="Type here to chat...">
                                <button id="send-btn" class="btn btn-primary rounded-circle shadow-sm" style="width: 50px; height: 50px;"><i class="fas fa-paper-plane"></i></button>
                            </div>
                        </div>
                    </div>

                    <div class="col-12 col-lg-6">
                        <div class="d-flex flex-column custom-card p-4 h-100">
                            <div class="d-flex align-items-center mb-4">
                                <i class="fas fa-chart-pie text-success me-3 fs-3"></i>
                                <span class="h4 fw-bold text-dark mb-0">Daily Tracker</span>
                            </div>
                            <div class="bg-light rounded-3 p-4 shadow-sm text-center">
                                <h3 class="h5 fw-bold text-dark">Daily Calorie Goal</h3>
                                <p class="h1 fw-bold text-primary mt-2"><span id="calories-eaten">0</span> / <span id="calorie-goal">2000</span> kcal</p>
                                <div class="w-75 mx-auto">
                                    <canvas id="calorie-chart"></canvas>
                                </div>
                            </div>
                            
                            <div class="bg-light rounded-3 p-4 shadow-sm mt-4">
                                <h3 class="h5 fw-bold text-dark text-center">Macronutrient Breakdown</h3>
                                <div class="w-100">
                                    <canvas id="macro-chart"></canvas>
                                </div>
                                <div id="macro-info" class="mt-3 text-center text-secondary">
                                    <p class="mb-1">Protein: <span id="protein-eaten" class="fw-bold">0</span>g / <span id="protein-goal">150</span>g</p>
                                    <p class="mb-1">Carbs: <span id="carbs-eaten" class="fw-bold">0</span>g / <span id="carbs-goal">200</span>g</p>
                                    <p class="mb-1">Fat: <span id="fat-eaten" class="fw-bold">0</span>g / <span id="fat-goal">70</span>g</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="page-store" class="page-section d-none">
                <div class="bg-light custom-card p-4 shadow-sm animate-fade-in">
                    <div class="d-flex align-items-center mb-4">
                        <i class="fas fa-shopping-basket text-purple me-3 fs-3"></i>
                        <span class="h4 fw-bold text-dark mb-0">Healthy Products Store</span>
                    </div>
                    <div id="products-container" class="card-container">
                        <!-- Product cards will be rendered here by JS -->
                    </div>
                </div>
            </div>

            <div id="page-recipes" class="page-section d-none">
                <div class="bg-light custom-card p-4 shadow-sm animate-fade-in">
                    <div class="d-flex align-items-center mb-4">
                        <i class="fas fa-utensils text-danger me-3 fs-3"></i>
                        <span class="h4 fw-bold text-dark mb-0">Healthy Recipes</span>
                    </div>
                    <div id="recipes-container" class="card-container">
                        <!-- Recipe cards will be rendered here by JS -->
                    </div>
                </div>
            </div>

            <div id="page-doctors" class="page-section d-none">
                <div class="bg-light custom-card p-4 shadow-sm animate-fade-in">
                    <div class="d-flex align-items-center mb-4">
                        <i class="fas fa-stethoscope text-purple me-3 fs-3"></i>
                        <span class="h4 fw-bold text-dark mb-0">Meet Our Doctors & Dietitians</span>
                    </div>
                    <div id="doctors-container" class="card-container">
                        <!-- Doctor cards will be rendered here by JS -->
                    </div>
                </div>
            </div>

            <div id="page-appointments" class="page-section d-none">
                 <div class="bg-light custom-card p-4 shadow-sm animate-fade-in">
                    <div class="d-flex align-items-center mb-4">
                        <i class="fas fa-calendar-check text-indigo me-3 fs-3"></i>
                        <span class="h4 fw-bold text-dark mb-0">My Appointments</span>
                    </div>
                    <div id="appointments-container" class="d-flex flex-column gap-3">
                        <!-- Appointment cards will be rendered here by JS -->
                        <p id="no-appointments" class="text-center text-muted">You have no upcoming appointments.</p>
                    </div>
                </div>
            </div>

            <!-- Modals -->
            <div class="modal fade" id="bookAppointmentModal" tabindex="-1" aria-labelledby="bookAppointmentModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered">
                    <div class="modal-content rounded-4 shadow-lg">
                        <div class="modal-header">
                            <h5 class="modal-title fw-bold" id="bookAppointmentModalLabel">Book Appointment</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div id="modal-doctor-info" class="mb-3"></div>
                            <div class="mb-3">
                                <label for="appointment-reason" class="form-label fw-semibold">Reason for visit</label>
                                <textarea id="appointment-reason" class="form-control" rows="3"></textarea>
                            </div>
                        </div>
                        <div class="modal-footer d-flex justify-content-between">
                            <button type="button" class="btn btn-secondary rounded-pill" data-bs-dismiss="modal">Cancel</button>
                            <button id="book-appointment-btn" type="button" class="btn btn-primary rounded-pill fw-bold">Confirm Booking</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="modal fade" id="videoCallModal" tabindex="-1" aria-labelledby="videoCallModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered modal-lg">
                    <div class="modal-content rounded-4 shadow-lg bg-dark text-white">
                        <div class="modal-header border-0">
                            <h5 class="modal-title fw-bold" id="videoCallModalLabel">Video Consultation</h5>
                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body text-center">
                            <div class="ratio ratio-16x9 bg-secondary rounded-3">
                                <img src="https://placehold.co/800x450/212529/ffffff?text=Video+Call+Simulation" alt="Video Call" class="img-fluid rounded-3">
                            </div>
                            <p class="mt-3 text-muted">This is a video call simulation. In a real application, this would connect to a service like Twilio or Agora.</p>
                        </div>
                        <div class="modal-footer border-0">
                            <button id="end-call-btn" type="button" class="btn btn-danger rounded-pill fw-bold w-100" data-bs-dismiss="modal">End Call</button>
                        </div>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <!-- Bootstrap JS with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" xintegrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <!-- Chart.js for data visualization -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Your main application logic -->
    <script src="app.js"></script>
</body>
</html>
